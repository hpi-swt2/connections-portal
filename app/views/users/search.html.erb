<div class="jumbotron">
    <h2><%= I18n.t('user.lists') %></h2>

      <%# https://getbootstrap.com/docs/5.0/layout/grid/#auto-layout-columns %>


    <div class="row">
        <div class="col">
          <%= form_tag(search_users_path, method: "get") do %>
            <%= label_tag(:search, I18n.t('user.search.for') ) %>
            <%= text_field_tag :search, params[:search] %>
            <%= submit_tag I18n.t('user.search.index') %>
          <% end %>
        </div>
    </div>

    <table>
        <thead>
            <tr>
                <th><%= I18n.t('user.attributes.username') %></th>
                <th><%= I18n.t('user.attributes.firstname')%></th>
                <th><%= I18n.t('user.attributes.lastname')%></th>
                <th><%= I18n.t('user.attributes.email')%></th>
            </tr>
        </thead>
        <tbody>

        <% @users.each do |user| %>
          <tr>
            <td><%= user.username%></td>
            <td><%= user.firstname%></td>
            <td><%= user.lastname%></td>
            <td><%= user.email %></td>
            <% if @users_to_add.include? user %>
              <td><%=  button_to '+', user_contact_requests_path(user), method: :post, id: user.id  %></td>
            <% end %>
          </tr>
        <% end %>

        </tbody>
    </table>
</div>
