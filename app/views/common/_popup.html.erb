<div class="card popup" style="display: none">
  <div class="card-body d-flex popup-content">
    <div class="d-flex"><span class="popup-icon-container"><i class="fa popup-icon"></i></span></div>
    <div style="padding-right: 10px">
      <p class="card-text popup-text">No content in this popup</p>
      <div class="row popup-button-row"></div>
    </div>
  </div>
</div>
<script>

    function generatePopup(text, icon, buttons = [], timeout = 5000) {
        const $popup = $(".popup");
        $popup.fadeIn("slow");
        $(".popup-text").text(text);
        $(".popup-icon").addClass(icon);
        /*
         * Buttons are given in the form of objects with the properties
         * label: What's on the button
         * action: A function that is executed on click
         * hideAfterClick: Determines if the popup should be hidden on click, default value is true
         */

        buttons.forEach(buttonSpec => {
            let $buttonContainer = $("<div class='col'></div>").appendTo(".popup-button-row");
            let $button = $(document.createElement("button"));
            $button.addClass("btn btn-outline-light btn-sm");
            $button.click(() => {
                if(!("hideAfterClick" in buttonSpec) || buttonSpec.hideAfterClick){
                    $popup.hide();
                }
                (buttonSpec.action)();
            });
            $button.text(buttonSpec.label);
            $button.appendTo($buttonContainer);
        });
        $popup.delay(timeout).fadeOut();
    }

    $('document').ready(() => {
        generatePopup(
            "You have been invited to a call by Alfred Nobel",
            "fa-phone", [
                {
                    "label": "Accept",
                    "action": ()=> alert('Have fun!')
                },
                {
                    "label":"Deny",
                    "action" : ()=> alert("Maybe nex"),
                    "hideAfterClick": false
                }
                ],
            324532);

    });


</script>
