<h1>My Contacts</h1>

<% if user_signed_in? %>

  <p><%= button_to 'View my requests', user_contact_requests_path(current_user), method: :get, :class => "btn btn-outline-primary"  %></p>

  <% @contacts.each do |contact| %>
    <a class="card" href=<% user_contacts_path(contact) %>>
      <div class="card-body">
        <div class="container">
          <div class="row">
            <div class="col-xs">
              <% if contact.avatar.attached? %>
                <%= image_tag contact.avatar, height: 50, width: 50,  class: "rounded-circle" %>
              <% else %>
                <%= image_tag 'default_avatar.png', height: 50, width: 50, class: "rounded-circle" %>
              <% end %>
            </div>
            <div class="col-10">
              <h5 class="card-title"><%= contact.name %></h5>
              <p class="card-link"><i><%= contact.email %></i></p>
            </div>
          </div>
          <% if contact.social_accounts.any? %>
            <div class="row">
              <% contact.social_accounts.each do |social_account| %>
                <div class="col">
                  <a href=<%= generate_link(social_account) %>>
                    <i class="fa <%= generate_icon(social_account) %> fa-4x" aria-hidden="true"></i>
                  </a>
                </div>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
    </a>
    <br>
  <%end %>
<% end %>
